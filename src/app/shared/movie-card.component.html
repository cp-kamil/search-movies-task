<table mat-table [dataSource]="dataSource" cdkDropListGroup matSort>
  <ng-container
    *ngFor="let columnName of columnNames; let i = index"
    [matColumnDef]="columnName"
  >
    <div
      (cdkDragStarted)="dragStarted($event, i)"
      (cdkDropListDropped)="dropListDropped($event, i)"
      cdkDropList
      cdkDrag
      [cdkDropListData]="movie"
    >
      <th
        class="pl-4 font-medium text-gray-900 relative cursor-pointer"
        *matHeaderCellDef
        mat-sort-header
        cdkDrag
      >
        {{ capitalize(columnName) }}
      </th>
    </div>
    <ng-container matColumnDef="    {{ capitalize(columnName) }}">
      <tr class="flex odd:bg-white even:bg-gray-50 items-center">
        <td mat-cell *matCellDef="let element">
          @if(capitalize(columnName) === imgRow){
          <img
            [src]="element[capitalize(columnName)]"
            [alt]="imgRow"
            class="rounded-lg w-10 h-10"
          />
          } @else {
          {{ element[capitalize(columnName)] }}
          }
        </td>
      </tr>
    </ng-container>
  </ng-container>
  <tr mat-header-row *matHeaderRowDef="columnNames"></tr>
  <tr mat-row *matRowDef="let row; columns: columnNames"></tr>
</table>
